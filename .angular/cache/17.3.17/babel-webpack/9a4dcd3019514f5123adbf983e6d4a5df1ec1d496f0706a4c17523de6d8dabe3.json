{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../rx.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction RxInteractionsComponent_p_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 6);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r0.error);\n  }\n}\nfunction RxInteractionsComponent_p_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"Loading...\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RxInteractionsComponent_table_10_tr_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const r_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(r_r2.drug);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(r_r2.description);\n  }\n}\nfunction RxInteractionsComponent_table_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\", 7)(1, \"thead\")(2, \"tr\")(3, \"th\");\n    i0.ɵɵtext(4, \"Drugs\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\");\n    i0.ɵɵtext(6, \"Description\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(7, \"tbody\");\n    i0.ɵɵtemplate(8, RxInteractionsComponent_table_10_tr_8_Template, 5, 2, \"tr\", 8);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.rows);\n  }\n}\nfunction RxInteractionsComponent_p_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"No data.\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class RxInteractionsComponent {\n  constructor(rx) {\n    this.rx = rx;\n    this.rxcui = '341248';\n    this.loading = false;\n    this.error = '';\n    this.rows = [];\n  }\n  fetch() {\n    this.loading = true;\n    this.error = '';\n    this.rows = [];\n    this.rx.getInteractions(this.rxcui).subscribe({\n      next: data => {\n        try {\n          const groups = data?.interactionTypeGroup ?? [];\n          const rows = [];\n          for (const g of groups) {\n            for (const t of g.interactionType ?? []) {\n              for (const p of t.interactionPair ?? []) {\n                const drugNames = (p.interactionConcept ?? []).map(c => c?.minConceptItem?.name).filter(x => !!x).join(' + ');\n                const desc = p?.description ?? '';\n                rows.push({\n                  drug: drugNames,\n                  description: desc\n                });\n              }\n            }\n          }\n          this.rows = rows;\n        } catch {\n          this.error = 'Unexpected response format';\n        }\n        this.loading = false;\n      },\n      error: err => {\n        this.error = err?.error?.message || 'Failed to load interactions';\n        this.loading = false;\n      }\n    });\n  }\n  static {\n    this.ɵfac = function RxInteractionsComponent_Factory(t) {\n      return new (t || RxInteractionsComponent)(i0.ɵɵdirectiveInject(i1.RxService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: RxInteractionsComponent,\n      selectors: [[\"app-rx-interactions\"]],\n      decls: 12,\n      vars: 6,\n      consts: [[2, \"margin-bottom\", \"16px\", 3, \"ngSubmit\"], [\"name\", \"rxcui\", \"required\", \"\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"submit\", 3, \"disabled\"], [\"style\", \"color:#c00\", 4, \"ngIf\"], [4, \"ngIf\"], [\"border\", \"1\", \"cellpadding\", \"6\", \"cellspacing\", \"0\", 4, \"ngIf\"], [2, \"color\", \"#c00\"], [\"border\", \"1\", \"cellpadding\", \"6\", \"cellspacing\", \"0\"], [4, \"ngFor\", \"ngForOf\"]],\n      template: function RxInteractionsComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"h2\");\n          i0.ɵɵtext(1, \"RxNav Drug Interactions\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(2, \"form\", 0);\n          i0.ɵɵlistener(\"ngSubmit\", function RxInteractionsComponent_Template_form_ngSubmit_2_listener() {\n            return ctx.fetch();\n          });\n          i0.ɵɵelementStart(3, \"label\");\n          i0.ɵɵtext(4, \"RXCUI\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"input\", 1);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function RxInteractionsComponent_Template_input_ngModelChange_5_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.rxcui, $event) || (ctx.rxcui = $event);\n            return $event;\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"button\", 2);\n          i0.ɵɵtext(7, \"Load\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(8, RxInteractionsComponent_p_8_Template, 2, 1, \"p\", 3)(9, RxInteractionsComponent_p_9_Template, 2, 0, \"p\", 4)(10, RxInteractionsComponent_table_10_Template, 9, 1, \"table\", 5)(11, RxInteractionsComponent_p_11_Template, 2, 0, \"p\", 4);\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(5);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.rxcui);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"disabled\", ctx.loading);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", ctx.error);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.loading);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading && ctx.rows.length);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading && !ctx.rows.length && !ctx.error);\n        }\n      },\n      dependencies: [i2.NgForOf, i2.NgIf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.NgModel, i3.NgForm],\n      styles: [\".toolbar[_ngcontent-%COMP%] {\\n  display: flex;\\n  gap: 12px;\\n  align-items: center;\\n  margin: 12px 0;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcngvcngtaW50ZXJhY3Rpb25zL3J4LWludGVyYWN0aW9ucy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUFTLGFBQUE7RUFBYSxTQUFBO0VBQVMsbUJBQUE7RUFBbUIsY0FBQTtBQUtsRCIsInNvdXJjZXNDb250ZW50IjpbIi50b29sYmFye2Rpc3BsYXk6ZmxleDtnYXA6MTJweDthbGlnbi1pdGVtczpjZW50ZXI7bWFyZ2luOjEycHggMH1cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","ctx_r0","error","r_r2","drug","description","ɵɵtemplate","RxInteractionsComponent_table_10_tr_8_Template","ɵɵproperty","rows","RxInteractionsComponent","constructor","rx","rxcui","loading","fetch","getInteractions","subscribe","next","data","groups","interactionTypeGroup","g","t","interactionType","p","interactionPair","drugNames","interactionConcept","map","c","minConceptItem","name","filter","x","join","desc","push","err","message","ɵɵdirectiveInject","i1","RxService","selectors","decls","vars","consts","template","RxInteractionsComponent_Template","rf","ctx","ɵɵlistener","RxInteractionsComponent_Template_form_ngSubmit_2_listener","ɵɵtwoWayListener","RxInteractionsComponent_Template_input_ngModelChange_5_listener","$event","ɵɵtwoWayBindingSet","RxInteractionsComponent_p_8_Template","RxInteractionsComponent_p_9_Template","RxInteractionsComponent_table_10_Template","RxInteractionsComponent_p_11_Template","ɵɵtwoWayProperty","length"],"sources":["D:\\ASSIGNFRONTED\\cmed-prescription\\src\\app\\rx\\rx-interactions\\rx-interactions.component.ts","D:\\ASSIGNFRONTED\\cmed-prescription\\src\\app\\rx\\rx-interactions\\rx-interactions.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { RxService } from '../rx.service';\n\n@Component({\n  selector: 'app-rx-interactions',\n  templateUrl: './rx-interactions.component.html',\n  styleUrls: ['./rx-interactions.component.scss']\n})\nexport class RxInteractionsComponent {\n  rxcui = '341248';\n  loading = false;\n  error = '';\n  rows: { drug: string; description: string }[] = [];\n\n  constructor(private rx: RxService) {}\n\n  fetch() {\n    this.loading = true; this.error = ''; this.rows = [];\n    this.rx.getInteractions(this.rxcui).subscribe({\n      next: (data) => {\n        try {\n          const groups = data?.interactionTypeGroup ?? [];\n          const rows: any[] = [];\n          for (const g of groups) {\n            for (const t of (g.interactionType ?? [])) {\n              for (const p of (t.interactionPair ?? [])) {\n                const drugNames = (p.interactionConcept ?? [])\n                  .map((c: any) => c?.minConceptItem?.name)\n                  .filter((x: any) => !!x)\n                  .join(' + ');\n                const desc = p?.description ?? '';\n                rows.push({ drug: drugNames, description: desc });\n              }\n            }\n          }\n          this.rows = rows;\n        } catch {\n          this.error = 'Unexpected response format';\n        }\n        this.loading = false;\n      },\n      error: (err) => {\n        this.error = err?.error?.message || 'Failed to load interactions';\n        this.loading = false;\n      }\n    });\n  }\n}\n","<h2>RxNav Drug Interactions</h2>\n\n<form (ngSubmit)=\"fetch()\" style=\"margin-bottom:16px\">\n  <label>RXCUI</label>\n  <input [(ngModel)]=\"rxcui\" name=\"rxcui\" required />\n  <button type=\"submit\" [disabled]=\"loading\">Load</button>\n</form>\n\n<p *ngIf=\"error\" style=\"color:#c00\">{{error}}</p>\n<p *ngIf=\"loading\">Loading...</p>\n\n<table *ngIf=\"!loading && rows.length\" border=\"1\" cellpadding=\"6\" cellspacing=\"0\">\n  <thead>\n    <tr><th>Drugs</th><th>Description</th></tr>\n  </thead>\n  <tbody>\n    <tr *ngFor=\"let r of rows\">\n      <td>{{ r.drug }}</td>\n      <td>{{ r.description }}</td>\n    </tr>\n  </tbody>\n</table>\n\n<p *ngIf=\"!loading && !rows.length && !error\">No data.</p>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}